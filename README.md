# 예외(Exception)

## 1. 예외(Exception) 처리

- 사용자의 잘못된 조작 또는 개발자의 잘못된 코딩으로 인해 발생하는 프로그램 오류를 **'예외(Exception)'**라고 함
- **예외가 발생하면 프로그램은 곧바로 종료된다는 점에서 에러와 동일**
- 하지만 예외처리를 통해 프로그램이 종료되지 않고, 정상 작동할 수 있도록 할 수 있음


> ##### 오류(Error)
> - 컴퓨터 하드웨어의 오동작 또는 고장으로 인해 응용 프로그램 실행 오류가 발생하는 것을 자바에서는 '에러(Error)'라고 함
>
> - ##### 에러는 JVM 실행에 문제가 발생했다는 것으로 JVM 위에서 실행되는 프로그램을 아무리 견고하게 만들어도 결국 실행 불능이 됨

### 1.1 일반 예외와 실행 예외
- 일반 예외와 실행 예외는 모두 예외 처리를 해줘야 프로그램 실행 시 적상 작동함
- 자바는 예외를 클래스로 관리함
- 따라서 예외 발생 시, 해당 예외 클래스를 생성함 (java.lang.Exception 클래스를 상속받음)

##### 1. 일반 예외 (Exception)
- 컴파일러 체크 예외라고도 불리움
- 자바 소스를 컴파일하는 과정에서 예외 처리 코드가 필요한지 검사하기 때문임
- 만약 예외 처리 코드가 없다면 컴파일 오류가 발생함

##### 2. 실행 예외 (Runtime exception)
- 실행 예외는 컴파일 하는 과정에서 예외 처리 코드를 검사하지 않는 예외를 말함
- 따라서 개발자의 경험으로 예외 처리를 하는 경우가 많음
- 예외 처리 하지 않으면 프로그램 종료됨

###### 실행 예외 종류 (암기할 필요는 없지만 종류들을 알아놓을 필요는 있음)
###### 1. NullPointerException
- 객체 참조가 없는 상태, 즉 null 값을 갖는 참조 변수로 객체 접근 연산자인 도트(.)를 사용했을 때 발생함
- 객체가 없는 상태에서 객체를 참조하려고 하니 예외 발생할 수 밖에 없는 상황

###### 2. ArrayIndexOutOfBoundsException
- 배열에서 인덱스 범위를 초과하여 사용할 경우 실행 예외인 java.lang.ArrayIndexOutOfBoundsEception이 발생
> ##### 처리방법
> 배열값을 읽기 전에 배열의 길이를 먼저 조사한다. 실행 매개값이 없거나 부족할 경우 조건문을 이용해서 사용자에게 실행방법을 알려준다.

###### 3. NumberFormatException
- 문자열의 데이터를 숫자로 변환할 때, 숫자로 변환될 수 없는 문자가 포함되어 있다면 java.lang.NumberFormatException을 발생시킴

###### 4. ClassCastException
- 타입 변환(Casting)은 상위 클래스와 하위 클래스 간에 발생하고 구현 클래스와 인터파에스 간에도 발생

> ##### 클래스 간 type casting 가능 여부 판단
> - instanceof 연산자로 확인하기
> - instanceof 연산의 결과가 true이면 좌항 객체를 우항 타입으로 변환이 가능하다는 뜻

### 1.2 예외 처리 코드
- 프로그램에서 예외가 발생했을 경우 프로그램의 갑작스러운 종료를 막고, 정상 실행을 유지할 수 있도록 처리하는 코드를 예외처리 코드라고 함.

##### **Try - catch - finally**

- 예외 처리 시, 사용하는  문법으로 예외가 어디서 발생하는지까지 내부 메서드를 통해 확인할 수 있음
- 예외 처리를 하는 가장 큰 이유는 예외 발생 시, **'프로그램을 정상적으로 끝마칠 수 있다는 것'**에 방점을 찍을 수 있음
  - 예외가 발생하더라도 해당 작업에 대한 결과값을 반영해야하는데, 그렇지 못할 경우 프로그램이 정상적으로 작동하지 않을 경우가 많음
  - 따라서 예외처리를 통해 **프로그램을 (표면상으로)정상적으로 끝까지 작동할 수 있도록** 해야함

```
public clasee Exception {
  public static void main(String[] args) {
        
    try {
      
      // 내부 로직 실행
      
    } catch(예외 타입 예외 식별자) {
      // ex) ArrayIndexOutOfBoundsException e
      // 예외 처리 시 실행하고자 하는 작업
      // 해당 명렁을 통해 어디서 예외가 발생했는지 추척 가능
      e.printStackTrace();
      
    } catch(예외 타입 예외 식별자) {
    
      // 작업하고자 하는 내용
      e.printStackTrace();
      
    } finally {
    
      // 위의 예외처리를 하는 작업을 뚫고, 작업하고자 하는 내용
      
    }  
  }
}
```

- Try - Catch 구문의 작동 과정은 아래와 같음
